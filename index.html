<body>
<header class="topbar">
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="login.html" id="loginLink">Login</a></li>
      <li><a href="register.html" id="registerLink">Register</a></li>
      <li><a href="dashboard.html" id="dashboardLink" style="display: none;">Dashboard</a></li>
      <li><button id="logoutBtn" style="display: none;">Logout</button></li>
    </ul>
  </nav>
</header>

<section class="hero">
  <h1>Earn by Just Clicking!</h1>
  <p>Join Pagla Clickers and start earning rewards by completing small tasks like clicks, views, referrals, and more. No investment, just fun and earnings.</p>
  <a href="register.html"><button>Get Started</button></a>
  <p>If you are already registered</p>
  <a href="login.html"><button>Login</button></a>
</section>

<section class="features">
  <div class="feature">
    <h3>Easy to Use</h3>
    <p>Simple and mobile-friendly platform anyone can use.</p>
  </div>
  <div class="feature">
    <h3>Instant Rewards</h3>
    <p>Earn points and redeem them for cash or vouchers.</p>
  </div>
  <div class="feature">
    <h3>Referral Program</h3>
    <p>Refer friends and earn bonus rewards instantly.</p>
  </div>
</section>

<footer>
  <p>&copy; 2025 Pagla Clickers. All rights reserved.</p>
</footer>

<!-- Firebase Scripts -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAg-6k48R9c7ZK0xGe0BtNOa-5lF5JfmdI",
    authDomain: "pagla-b1c17.firebaseapp.com",
    projectId: "pagla-b1c17",
    storageBucket: "pagla-b1c17.appspot.com",
    messagingSenderId: "192578902502",
    appId: "1:192578902502:web:1595070cdac289170f5e27",
    measurementId: "G-M9Y7SBBEXM"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const loginLink = document.getElementById("loginLink");
  const registerLink = document.getElementById("registerLink");
  const dashboardLink = document.getElementById("dashboardLink");
  const logoutBtn = document.getElementById("logoutBtn");

  onAuthStateChanged(auth, (user) => {
    if (user) {
      // Logged in
      loginLink.style.display = "none";
      registerLink.style.display = "none";
      dashboardLink.style.display = "inline";
      logoutBtn.style.display = "inline";
    } else {
      // Not logged in
      loginLink.style.display = "inline";
      registerLink.style.display = "inline";
      dashboardLink.style.display = "none";
      logoutBtn.style.display = "none";
    }
  });

  logoutBtn.addEventListener('click', () => {
    signOut(auth).then(() => {
      window.location.href = 'login.html';
    }).catch((error) => {
      alert('Error signing out: ' + error.message);
    });
  });
</script>
</body>
